
@using Main.ViewModels
<html>
<head>
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.css" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid-theme.min.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.js"></script>

    <script src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.7/jquery.validate.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />
</head>
<body>
    <nav class="navbar navbar-inverse  navbar-default">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                </button>

            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="@Url.Action("Index", "Home")">Home</a></li>
                    <li><a href="@Url.Action("List", "Asset")">Asset <span class="sr-only"></span></a></li>
                    <li><a href="@Url.Action("Index", "TaskQueue")">Task Queue</a></li>
                    <li class="active"><a href="@Url.Action("Index", "Reporting")">Reporting <span class="sr-only">(current)</span></a></li>
                    <li>
                        <a href="@Url.Action("Index", "UserProfile")">
                            <span style="color: #e3f2fd;font-family:verdana;">
                                @Model.FirstName @Model.LastName
                            </span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <h2 align="center">@ViewBag.Title</h2>

    <br />

    <div class="container">
        <div class="row">

            <div class="col-sm-3">
                <h5><strong>Select the Report</strong></h5>

                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span data-bind="label">Select One</span>&nbsp;<span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                @{
                                    foreach (string table in Model.Reports.Keys)
                                    {
                                        <li><a href="@Url.Action("Index", "Reporting", new { reportName = table })">@table</a></li>
}
                                    }
                            </ul>
                        </div>
                    </div>
                </div>

            </div>

        </div>
     </div>
        <br />
        <div id="reportingGrid" style="margin-left:5px !important; margin-right:5px !important"></div>

</body>
</html>

<script>
    var reportingList;
    $(document).ready(function () {
        var reportName = '@Html.Raw(@Model.ActiveReport)';
        $.ajax({
            url: "/Reporting/GetReportsView/" + reportName,
            dataType: 'application/json',
            complete: function (data) {
                reportingList = JSON.parse(data["responseText"]);
                buildReportingGrid(reportingList);
            }
        });
    });

    function buildContent() {
        var reportName = '@Html.Raw(@Model.ActiveReport)';
        $.ajax({
            url: "/Reporting/GetReportsView/" + reportName,
            dataType: 'application/json',
            complete: function (data) {
                reportingList = JSON.parse(data["responseText"]);
                buildReportingGrid(reportingList);
            }
        });
    }

    function buildReportingGrid(allReports) {
        $("#reportingGrid").jsGrid({
            width: "100%",
            height: "auto",
            autoload: false,
            paging: true,
            pageSize: 5,
            pageButtonCount: 5,
            pageIndex: 1,
            data: allReports,
            onItemInserted: function (item) {
                var fieldName0 = $("#fieldName0").val();
                var strValue0 = $("#strValue0").val();
                var fieldName1 = $("#fieldName1").val();
                var strValue1 = $("#strValue1").val();
                var fieldName2 = $("#fieldName2").val();
                var strValue2 = $("#strValue2").val();
                var fieldName3 = $("#fieldName3").val();
                var strValue3 = $("#strValue3").val();
                var fieldName4 = $("#fieldName4").val();
                var strValue4 = $("#strValue4").val();
                var fieldName5 = $("#fieldName5").val();
                var strValue5 = $("#strValue5").val();
                var fieldName6 = $("#fieldName6").val();
                var strValue6 = $("#strValue6").val();
                var fieldName7 = $("#fieldName7").val();
                var strValue7 = $("#strValue7").val();
                var fieldName8 = $("#fieldName8").val();
                var strValue8 = $("#strValue8").val();
                var fieldName9 = $("#fieldName9").val();
                var strValue9 = $("#strValue9").val();
            },


            fields: [
                { name: "strValue0", title: "1", width: 20 },
                { name: "strValue1", title: "2", width: 20 },
                { name: "strValue2", title: "3", width: 20 },
                { name: "strValue3", title: "4", width: 20 },
                { name: "strValue4", title: "5", width: 20 },
                { name: "strValue5", title: "6", width: 20 },
                { name: "strValue6", title: "7", width: 20 },
                { name: "strValue7", title: "8", width: 20 },
                { name: "strValue8", title: "9", width: 20 },
                { name: "strValue9", title: "10", width: 20 },
            ]
        });
    }

</script>



